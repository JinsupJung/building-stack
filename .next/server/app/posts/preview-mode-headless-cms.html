<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/2aaf0723e720e8b9-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/97e1ef85d85e825c.css" data-precedence="next"/><title>Next.js Start</title><meta name="description" content="Next.js 시작하기"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50 __className_0ec1f4"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="max-w-2xl mx-auto py-10 px-4"><header><div class="flex items-center justify-between"><button class="border rounded-md w-6 h-6 flex items-center justify-center"><span class="sr-only">Toggle mode</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button><nav class="ml-auto text-md font-medium space-x-6"><a href="/">Home</a><a href="/about">About</a></nav></div></header><main><article class="py-6 prose dark:prose-invert"><h1 class="mb-2">Next.js Start</h1><p class="text-xl mt-0 text-slate-700 dark:text-slate-200">Next.js 시작하기</p><hr class="my-4"/><h3>Next.js가 제공하는 여러 기능들</h3>
<ul>
<li>Page-based routing system (with 다이나믹 라우트)<!-- -->
<ul>
<li>/pages/ 가 라우팅하는데 기본이다.</li>
</ul>
</li>
<li>Pre-rendering SSG / SSR<!-- -->
<ul>
<li>서버 사이드 렌더링 (요청 할 때마다 새로 렌더링 해서 준다.)</li>
</ul>
</li>
<li>Automatic code splitting for faster page loads<!-- -->
<ul>
<li>파일을 하나로 만들 수도 있고 쪼개서 만들 수도 있다. Next는 알아서 파일을 쪼개준다. 그래서 페이지를 빠르게 로드 할 수 있다.</li>
</ul>
</li>
<li>Client-side routing with optimized prefetching<!-- -->
<ul>
<li>prefetching를 통해 최적화 시켜준다.</li>
</ul>
</li>
<li>API Routes</li>
<li>Development environment 핫 리로드를 의미한다.</li>
</ul>
<blockquote>
<p>https://next-learn-starter.vercel.app/</p>
</blockquote>
<p>이 블로그는 Next.js가 제공하는 blog다. 그리고 이것을 확장시켜 나갈 것이다. 👉
<code>프로젝트 생성 - 메인 페이지(블로그 글 리스트) - 블로그 글 상세 페이지 - 배포</code> 이 순서로 진행할 것!!</p>
<h3>블로그</h3>
<ul>
<li>개발자들은 자기만의 블로그를 하나씩 가지고 있다.
꾸준히 공부하고 고민한 부분에 대한 기록과 다른 사람들에게 지식을 공유하고 본인 스스로를 기록하며 나에 대해서 홍보하기 좋다.</li>
</ul>
<h3>프로젝트 만들기</h3>
<pre><code>yarn create next-app blog --example &quot;https://github.com/vercel/next-learn/tree/master/basics/learn-starter&quot;
</code></pre>
<p>실행</p>
<pre><code>yarn dev
</code></pre>
<p>prettier 실행</p>
<pre><code>yarn add -D prettier
</code></pre>
<h3>Link 태그와 a의 차이</h3>
<ul>
<li>Link 태그 : 최적화된다. 페이지안에서 필요한 내용들만 추가적으로 불러오는 식이다. 자바스크립트가 그대로있는 상태에서 page 컴포넌트만 교체된다. 이런 것을 Client Side Navigate라고 한다.</li>
<li>a 태그 : 문서 자체를 처음부터 다시 불러오는 식이다. (reload)</li>
</ul>
<h3>Code Splitting</h3>
<p>Next.js는 Automatic Code Splitting을 제공한다.</p>
<ul>
<li>특정 페이지에 접근 할 때는 해당 페이지를 그릴 때 필요한 부분만 로드한다.</li>
<li>페이지 이동을 할 땐 목적지 페이지에 필요한 부분만 추가 로드한다.
이를 통해 성능이 최적화 된다.</li>
</ul>
<h3>Prefetching</h3>
<blockquote>
<p><code>&lt;Link&gt;</code> 컴포넌트를 이용하면, viewport에 Link 컴포넌트가 노출 됐을 때 href 로 연결된 페이지의 부분을 로드한다. 이를 통해 성능을 최적화 할 수 있다. 쉽게 말해서 Prefetching이란 로드 하자마자 링크 컴포넌트 안에 있는 내용물을 미리 가져오기 때문에 최적화가 된다. 스크롤 내리자마자 뷰포트에 노출되는 순간 이게 바로 pre(미리)fetching = 패치하자. 란 뜻이다. 네트워크에 다른 Link에 있는 파일들이 미리 가져와 있는 것을 볼 수 있다.</p>
</blockquote>
<h3>Link Components</h3>
<ul>
<li>본 서비스 외부 링크로 연결할 때는 <code>&lt;a&gt;</code> 태그만 쓰면된다.</li>
<li>링크 컴포넌트에 스타일을 줄 때는 <code>&lt;a&gt;</code> 태그에 줘야한다.</li>
</ul>
<h3>public</h3>
<ul>
<li>정적 리소스를 Next.js로 서빙하기 위한 디렉토리</li>
<li>robots.tst --&gt;</li>
<li>images</li>
</ul>
<p>Next에서는 Image Component를 사용한다.</p>
<pre><code>&lt;Image src=&quot;/images/&gt;
</code></pre>
<h3>Images</h3>
<p>Next에서 제공해주는 Images 컴포넌트를 사용하면 기존에 img 태그보다 용량이 최적화 된 것을 확인할 수 있다. img 태그의 용량은 6.8kb 인것이 images 컴포넌트를 사용하니 3.8kb가 되었다.</p>
<h3>MetaTag</h3>
<p>메타태그는 head 안에 title 등등 그 외의 정보들을 불러올 수 있다. 구글이라는 검색 엔진이 각 사이트를 스크래핑 또는 크롤링을 하면서 어떤 정보나 데이터를 보여줘야 되겠다 라고 하는 것이다.</p>
<pre><code>import Head from &#x27;next/head&#x27;

&lt;Head&gt;
  &lt;title&gt;제목&lt;/title&gt;
&lt;/Head&gt;
</code></pre>
<ul>
<li>
<p>Head Component</p>
<ul>
<li>title / image / description 등 og (open graph) tag</li>
<li>icon</li>
<li>third party script (ex. google-analytics) 모든 스크립트를 head 태그에 넣을 수 있다.</li>
</ul>
</li>
<li>
<p>Script Component</p>
<ul>
<li>strategy</li>
<li>onLoad</li>
</ul>
</li>
</ul>
<h3>Global CSS</h3>
<ul>
<li>pages/_app.js 만들고 styles/global.css 만들고 전역으로 적용할 스타일을 정의하고 _app.js에서 import &#x27;../styles/global.css&#x27;를 해보자.</li>
</ul>
<h3>Pre-rendering</h3>
<ul>
<li>Next를 활용하면 페이지별로 pre-rendering 방식을 선택할 수 있다.</li>
<li>getStaticProps를 사용하면 SSG</li>
<li>getServerSideProps를 사용하면 SSR</li>
</ul>
<h3>SSG를 사용하면 좋은 페이지</h3>
<ul>
<li>Margeting pages : 마케팅 페이지</li>
<li>Blog posts : 블로그 포스트</li>
<li>E-commerce projduct listings : 이커머스</li>
<li>Help and documentation : 고객센터</li>
</ul>
<p>적용 여부 선택 기준 : 사용자가 페이지를 요청하기 전에 pre-render 할 수 있는가?
그렇다면 SSG / 아니라면 SSR 혹은 ISR 혹은 CSR을 사용하면 된다.</p>
<h3>SSG의 2가지 케이스</h3>
<ul>
<li>외부 데이터 없이 pre-rendering</li>
<li>외부 데이터를 가져와서 pre-rendering
(외부데이터란? 다른 파일, api, DB 등...)</li>
</ul>
<hr/>
<h2>블로그 만들기 시작</h2>
<p>md 파일에 있는</p>
<pre><code>
-----
으로 감싸진 metadata를 읽어보자. (YAML Front Matter)
-----

</code></pre>
<ul>
<li>yarn add gray-matter 설치하기</li>
<li>gray-matter로 YAML 파일을 파싱한다. (메타태그만 파싱함)</li>
</ul>
<h3>요구사항</h3>
<ul>
<li>SSG 사용해서</li>
<li>url : /posts/ssg-ssr 이면 /posts/ssg-ssr.md 를 읽어서 보여준다.</li>
<li>url : /posts/pre-rendering 이면 /posts/pre-rendering.md 를 읽어서 보여준다.</li>
</ul>
<h3>*.md 파일을 해석하기 위해서 도구 설치</h3>
<ul>
<li><code>yarn add remark remark-html</code></li>
</ul>
<h3>Date formatting 도구 설치</h3>
<pre><code>yarn add date-fns
</code></pre>
<ul>
<li>parseISO</li>
<li>format</li>
</ul>
<h3>getStaticPaths에서 fallback이란 ?</h3>
<pre><code>export async function getStaticPaths() {
  // 배열을 줌
  const paths = getAllPostIds()

  /**
   * fallback은 url을 이탈했을 때
   * true로 하면 에러가 나온다
   * false로 하면 404 페이지가 나온다.
   * &#x27;blocking&#x27;을 하면 다른 에러가 나온다.
   */
  return {
    paths,
    fallback: true,
  }
}
</code></pre>
<ul>
<li>getStaticPaths는 build를 거쳐야 된다. fallback란에 true를 넣으면 build시 에러의 이유가 나온다.</li>
</ul>
<pre><code>yarn build &amp;&amp; yarn dev
</code></pre>
<p>하면됨.</p>
<p>결론 : 빌드시 생성되지 않은 page에 대한 처리.</p>
<h4>fallback 값이 ??</h4>
<ul>
<li>flase : 처리하지 않기 때문에 404</li>
<li>true : fallback 동작으로 로딩을 그려줬다가 데이터가 있으면 그 때 보여준다.</li>
<li>&#x27;blocking&#x27; : 로더도 필요 없이 안그리고 있다가 제너레이션 될 때 그 때 보여준다.</li>
</ul></article></main></div><script src="/_next/static/chunks/webpack-6728a9b28f251f81.js" async=""></script><script src="/_next/static/chunks/2443530c-ac8981f6a5707b30.js" async=""></script><script src="/_next/static/chunks/139-a247973f5f8d117e.js" async=""></script><script src="/_next/static/chunks/main-app-acadf0f678c7afa8.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2aaf0723e720e8b9-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/97e1ef85d85e825c.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":\"7858\",\"chunks\":[\"272:static/chunks/webpack-6728a9b28f251f81.js\",\"667:static/chunks/2443530c-ac8981f6a5707b30.js\",\"139:static/chunks/139-a247973f5f8d117e.js\"],\"name\":\"\",\"async\":false}\n6:I{\"id\":\"3055\",\"chunks\":[\"272:static/chunks/webpack-6728a9b28f251f81.js\",\"667:static/chunks/2443530c-ac8981f6a5707b30.js\",\"139:static/chunks/139-a247973f5f8d117e.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"2112\",\"chunks\":[\"414:static/chunks/414-bfaafd372e832af9.js\",\"185:static/chunks/app/layout-9e07d8f5fbbdc297.js\"],\"nam"])</script><script>self.__next_f.push([1,"e\":\"ThemeProvider\",\"async\":false}\n8:I{\"id\":\"4349\",\"chunks\":[\"414:static/chunks/414-bfaafd372e832af9.js\",\"185:static/chunks/app/layout-9e07d8f5fbbdc297.js\"],\"name\":\"ModeToggle\",\"async\":false}\n9:I{\"id\":\"414\",\"chunks\":[\"414:static/chunks/414-bfaafd372e832af9.js\",\"185:static/chunks/app/layout-9e07d8f5fbbdc297.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":\"1234\",\"chunks\":[\"414:static/chunks/414-bfaafd372e832af9.js\",\"185:static/chunks/app/layout-9e07d8f5fbbdc297.js\"],\"name\":\"Analytics\",\"async\":false}\nb:I{\"id\":\"9544\",\"ch"])</script><script>self.__next_f.push([1,"unks\":[\"272:static/chunks/webpack-6728a9b28f251f81.js\",\"667:static/chunks/2443530c-ac8981f6a5707b30.js\",\"139:static/chunks/139-a247973f5f8d117e.js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":\"99\",\"chunks\":[\"272:static/chunks/webpack-6728a9b28f251f81.js\",\"667:static/chunks/2443530c-ac8981f6a5707b30.js\",\"139:static/chunks/139-a247973f5f8d117e.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/97e1ef85d85e825c.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/preview-mode-headless-cms\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"preview-mode-headless-cms\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"preview-mode-headless-cms\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L5\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$6\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50 __className_0ec1f4\",\"children\":[\"$\",\"$L7\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L8\",null,{}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-md font-medium space-x-6\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/about\",\"children\":\"About\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]]}],[\"$\",\"$La\",null,{}]]}]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50 __className_0ec1f4\",\"children\":[\"$\",\"$L7\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl mx-auto py-10 px-4\",\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"$L8\",null,{}],[\"$\",\"nav\",null,{\"className\":\"ml-auto text-md font-medium space-x-6\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"children\":\"Home\"}],[\"$\",\"$L9\",null,{\"href\":\"/about\",\"children\":\"About\"}]]}]]}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"preview-mode-headless-cms\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"preview-mode-headless-cms\\\"]}\"},\"styles\":[]}],\"segment\":[\"slug\",\"preview-mode-headless-cms\",\"c\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}]]}],[\"$\",\"$La\",null,{}]]}]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"article\",null,{\"className\":\"py-6 prose dark:prose-invert\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"mb-2\",\"children\":\"Next.js Start\"}],[\"$\",\"p\",null,{\"className\":\"text-xl mt-0 text-slate-700 dark:text-slate-200\",\"children\":\"Next.js 시작하기\"}],[\"$\",\"hr\",null,{\"className\":\"my-4\"}],[[\"$\",\"h3\",null,{\"children\":\"Next.js가 제공하는 여러 기능들\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Page-based routing system (with 다이나믹 라우트)\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"/pages/ 가 라우팅하는데 기본이다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Pre-rendering SSG / SSR\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"서버 사이드 렌더링 (요청 할 때마다 새로 렌더링 해서 준다.)\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Automatic code splitting for faster page loads\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"파일을 하나로 만들 수도 있고 쪼개서 만들 수도 있다. Next는 알아서 파일을 쪼개준다. 그래서 페이지를 빠르게 로드 할 수 있다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Client-side routing with optimized prefetching\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"prefetching를 통해 최적화 시켜준다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"API Routes\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Development environment 핫 리로드를 의미한다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"https://next-learn-starter.vercel.app/\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 블로그는 Next.js가 제공하는 blog다. 그리고 이것을 확장시켜 나갈 것이다. 👉\\n\",[\"$\",\"code\",null,{\"children\":\"프로젝트 생성 - 메인 페이지(블로그 글 리스트) - 블로그 글 상세 페이지 - 배포\"}],\" 이 순서로 진행할 것!!\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"블로그\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"개발자들은 자기만의 블로그를 하나씩 가지고 있다.\\n꾸준히 공부하고 고민한 부분에 대한 기록과 다른 사람들에게 지식을 공유하고 본인 스스로를 기록하며 나에 대해서 홍보하기 좋다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"프로젝트 만들기\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn create next-app blog --example \\\"https://github.com/vercel/next-learn/tree/master/basics/learn-starter\\\"\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"실행\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn dev\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"prettier 실행\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn add -D prettier\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Link 태그와 a의 차이\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Link 태그 : 최적화된다. 페이지안에서 필요한 내용들만 추가적으로 불러오는 식이다. 자바스크립트가 그대로있는 상태에서 page 컴포넌트만 교체된다. 이런 것을 Client Side Navigate라고 한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"a 태그 : 문서 자체를 처음부터 다시 불러오는 식이다. (reload)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Code Splitting\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next.js는 Automatic Code Splitting을 제공한다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"특정 페이지에 접근 할 때는 해당 페이지를 그릴 때 필요한 부분만 로드한다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"페이지 이동을 할 땐 목적지 페이지에 필요한 부분만 추가 로드한다.\\n이를 통해 성능이 최적화 된다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Prefetching\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"\u003cLink\u003e\"}],\" 컴포넌트를 이용하면, viewport에 Link 컴포넌트가 노출 됐을 때 href 로 연결된 페이지의 부분을 로드한다. 이를 통해 성능을 최적화 할 수 있다. 쉽게 말해서 Prefetching이란 로드 하자마자 링크 컴포넌트 안에 있는 내용물을 미리 가져오기 때문에 최적화가 된다. 스크롤 내리자마자 뷰포트에 노출되는 순간 이게 바로 pre(미리)fetching = 패치하자. 란 뜻이다. 네트워크에 다른 Link에 있는 파일들이 미리 가져와 있는 것을 볼 수 있다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Link Components\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"본 서비스 외부 링크로 연결할 때는 \",[\"$\",\"code\",null,{\"children\":\"\u003ca\u003e\"}],\" 태그만 쓰면된다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"링크 컴포넌트에 스타일을 줄 때는 \",[\"$\",\"code\",null,{\"children\":\"\u003ca\u003e\"}],\" 태그에 줘야한다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"public\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"정적 리소스를 Next.js로 서빙하기 위한 디렉토리\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"robots.tst --\u003e\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"images\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next에서는 Image Component를 사용한다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\u003cImage src=\\\"/images/\u003e\\n\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Images\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next에서 제공해주는 Images 컴포넌트를 사용하면 기존에 img 태그보다 용량이 최적화 된 것을 확인할 수 있다. img 태그의 용량은 6.8kb 인것이 images 컴포넌트를 사용하니 3.8kb가 되었다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"MetaTag\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"메타태그는 head 안에 title 등등 그 외의 정보들을 불러올 수 있다. 구글이라는 검색 엔진이 각 사이트를 스크래핑 또는 크롤링을 하면서 어떤 정보나 데이터를 보여줘야 되겠다 라고 하는 것이다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"import Head from 'next/head'\\n\\n\u003cHead\u003e\\n  \u003ctitle\u003e제목\u003c/title\u003e\\n\u003c/Head\u003e\\n\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Head Component\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"title / image / description 등 og (open graph) tag\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"icon\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"third party script (ex. google-analytics) 모든 스크립트를 head 태그에 넣을 수 있다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"Script Component\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"strategy\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"onLoad\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Global CSS\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"pages/_app.js 만들고 styles/global.css 만들고 전역으로 적용할 스타일을 정의하고 _app.js에서 import '../styles/global.css'를 해보자.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Pre-rendering\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Next를 활용하면 페이지별로 pre-rendering 방식을 선택할 수 있다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"getStaticProps를 사용하면 SSG\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"getServerSideProps를 사용하면 SSR\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"SSG를 사용하면 좋은 페이지\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Margeting pages : 마케팅 페이지\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Blog posts : 블로그 포스트\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"E-commerce projduct listings : 이커머스\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Help and documentation : 고객센터\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"적용 여부 선택 기준 : 사용자가 페이지를 요청하기 전에 pre-render 할 수 있는가?\\n그렇다면 SSG / 아니라면 SSR 혹은 ISR 혹은 CSR을 사용하면 된다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"SSG의 2가지 케이스\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"외부 데이터 없이 pre-rendering\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"외부 데이터를 가져와서 pre-rendering\\n(외부데이터란? 다른 파일, api, DB 등...)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"블로그 만들기 시작\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"md 파일에 있는\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"\\n-----\\n으로 감싸진 metadata를 읽어보자. (YAML Front Matter)\\n-----\\n\\n\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"yarn add gray-matter 설치하기\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"gray-matter로 YAML 파일을 파싱한다. (메타태그만 파싱함)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"요구사항\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"SSG 사용해서\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"url : /posts/ssg-ssr 이면 /posts/ssg-ssr.md 를 읽어서 보여준다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"url : /posts/pre-rendering 이면 /posts/pre-rendering.md 를 읽어서 보여준다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"*.md 파일을 해석하기 위해서 도구 설치\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn add remark remark-html\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Date formatting 도구 설치\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn add date-fns\\n\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"parseISO\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"format\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"getStaticPaths에서 fallback이란 ?\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"export async function getStaticPaths() {\\n  // 배열을 줌\\n  const paths = getAllPostIds()\\n\\n  /**\\n   * fallback은 url을 이탈했을 때\\n   * true로 하면 에러가 나온다\\n   * false로 하면 404 페이지가 나온다.\\n   * 'blocking'을 하면 다른 에러가 나온다.\\n   */\\n  return {\\n    paths,\\n    fallback: true,\\n  }\\n}\\n\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"getStaticPaths는 build를 거쳐야 된다. fallback란에 true를 넣으면 build시 에러의 이유가 나온다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"yarn build \u0026\u0026 yarn dev\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"하면됨.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"결론 : 빌드시 생성되지 않은 page에 대한 처리.\"}],\"\\n\",[\"$\",\"h4\",null,{\"children\":\"fallback 값이 ??\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"flase : 처리하지 않기 때문에 404\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"true : fallback 동작으로 로딩을 그려줬다가 데이터가 있으면 그 때 보여준다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"'blocking' : 로더도 필요 없이 안그리고 있다가 제너레이션 될 때 그 때 보여준다.\"}],\"\\n\"]}]]]}]\n"])</script><script>self.__next_f.push([1,"5:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"Next.js Start\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Next.js 시작하기\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>